{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["require","scriptjs","Output","props","state","imgDataOpacity","imgDataLeft","imgDataTop","imgDataVisible","imgDataWidth","imageDataOutput","showImage","bind","hideImageData","event","preventDefault","this","setState","imageDate","target","dataset","timestamp","imageTitle","attributes","title","textContent","trim","length","imgDataOutput","substring","className","href","profile","rel","name","Date","toLocaleDateString","imgfull","imgreg","small","onClick","document","body","offsetWidth","window","scrollY","naturalWidth","data","replace","imgDataStyle","backgroundColor","border","boxShadow","fontWeight","padding","position","left","top","opacity","visibility","width","zIndex","output","style","resultsData","results","keyIterator","instance","desc","altDesc","ins","user","updated_at","dName","dProfile","links","html","dFull","urls","full","dReg","regular","dSma","dSrc","thumb","undefined","alt_description","description","removeNewline","push","alt","data-timestamp","data-name","data-profile","data-imgfull","data-imgreg","data-small","src","React","Component","App","totalPages","outputData","currentPage","searchCriteria","navigationLinks","navLinksPosition","navLinksBackForwardVisibility","doSearch","returnKey","isStrJSON","showCriteria","inputCriteria","showNavigation","pageNavigation","getNavLinksPosition","alert","str","JSON","parse","e","outputBoxWidth","i","linkKey","navLinkClass","data-page-id","navLinksWidth","Number","pageId","goToPage","searchType","fontSize","fetch","then","res","json","result","errorFlag","outputDataReceived","indexOf","Array","isArray","total_pages","Macy","container","trueOrder","waitForImages","margin","columns","breakAt","1200","940","520","400","error","evt","input","value","key","criteria","DOMParser","parseFromString","aboutBox","magnifyingGlass","id","onChange","maxLength","onKeyDown","placeholder","type","defaultValue","right","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.93094fb0.chunk.js","sourcesContent":["//import { ReactComponent } from '*.svg';\nimport './App.css';\nimport './macy.css';\nimport React from 'react';\n\nvar scriptjs = require('scriptjs');\nscriptjs('https://projects.voyager89.net/en/image-search/macy.min.js', 'Macy');\n\nclass Output extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      imgDataOpacity: 0,\n      imgDataLeft: 0,\n      imgDataTop: 0,\n      imgDataVisible: \"hidden\",\n      imgDataWidth: 0,\n      imageDataOutput: \"\"\n    };\n\n    this.showImage = this.showImage.bind(this);\n    this.hideImageData = this.hideImageData.bind(this);\n  }\n\n  hideImageData(event)\n  {\n    event.preventDefault();\n\n    this.setState({\n      imgDataOpacity: 0,\n      imgDataVisible: \"hidden\"\n    });\n  }\n\n  // Show image data box, uploader, date, and different image sizes\n  showImage(props)\n  {\n    const imageDate = props.target.dataset.timestamp;\n    const imageTitle = props.target.attributes.title.textContent.trim().length > 1 ? props.target.attributes.title.textContent : <em>Image</em>;\n\n    const imgDataOutput = (\n      <div>\n        <strong>{imageTitle.length > 35 ? imageTitle.substring(0, 35) + \"...\" : imageTitle}<br/>\n        by <a className=\"imgdata\" href={props.target.dataset.profile} rel=\"noreferrer\" target=\"_blank\">{props.target.dataset.name}</a></strong>\n        <br/>\n        <strong>{new Date(imageDate).toLocaleDateString()}</strong>\n        <hr/><br/>\n        <a className=\"imgdata\" href={props.target.dataset.imgfull} rel=\"noreferrer\" target=\"_blank\">Full size</a><br/>\n        <a className=\"imgdata\" href={props.target.dataset.imgreg} rel=\"noreferrer\" target=\"_blank\">Regular size</a><br/>\n        <a className=\"imgdata\" href={props.target.dataset.small} rel=\"noreferrer\" target=\"_blank\">Small size</a><br/><br/>\n        <hr/><br/>\n        <a className=\"imgdata\" href=\":OK\" onClick={this.hideImageData}>OK</a><br/><br/>\n      </div>\n    );\n\n    this.setState(\n    {\n      imgDataLeft : ((document.body.offsetWidth / 2) - (350 / 2)),\n      imgDataTop : window.scrollY + 100,//window.screen.width < 950 ? window.scrollY : window.innerHeight,\n      imgDataOpacity : 1,\n      imgDataVisible : \"visible\",\n      imgDataWidth : props.target.naturalWidth,\n      imageDataOutput : imgDataOutput\n    });\n  }\n\n  removeNewline(data)\n  {\n    return data.replace(/\\n/g, \" \");\n  }\n\n  render()\n  {\n    const imgDataStyle = {\n      backgroundColor:'rgb(255,255,255)',\n      border: '5px #c0c0c0 outset',\n      boxShadow: '0px 0px 100px #000',\n      fontWeight: \"bold\",\n      padding:\t10,\n      position: \t'absolute',\n      left: \t\tthis.state.imgDataLeft,\n      top: \t\tthis.state.imgDataTop,\n      opacity: \tthis.state.imgDataOpacity,\n      visibility: this.state.imgDataVisible,\n      width:\t\t350,\n      zIndex:\t999\n    };\n\n    let output = [];\n    let imageDataOutput = <div className=\"imagedata\" style={imgDataStyle}>{this.state.imageDataOutput}</div>;\n\n    const resultsData = this.props.data.results;\n\n    let keyIterator = 0;\n\n    for (const instance in resultsData)\n    {\n      ++keyIterator;\n\n      let desc = \"\";\n      let altDesc = \"\";\n\n      const ins = resultsData[instance];\n      const timestamp = ins.user.updated_at;\n      const dName = ins.user.name;\n      const dProfile = ins.user.links.html;\n      const dFull = ins.urls.full;\n      const dReg = ins.urls.regular;\n      const dSma = ins.urls.small;\n      const dSrc = ins.urls.thumb;\n\n      if (ins.alt_description !== undefined && ins.alt_description != null)\n        altDesc = ins.alt_description;\n\n      if (ins.description !== undefined && ins.description != null)\n        desc = this.removeNewline(ins.description);\n\n      output.push(<img alt={altDesc} key={keyIterator} title={desc} onClick={this.showImage} data-timestamp={timestamp} data-name={dName} data-profile={dProfile} data-imgfull={dFull} data-imgreg={dReg} data-small={dSma} src={dSrc}/>);\n    }\n\n    return (\n      <div className=\"outputdata\">\n        {imageDataOutput}\n        <div className=\"imageOutput\">\n          {output}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass App extends React.Component\n{\n  constructor()\n  {\n    super();\n\n    this.state = {\n      totalPages : 0,\n      outputData : \"\",\n      currentPage : 1,\n      searchCriteria : \"\",\n      navigationLinks : \"\",\n      navLinksPosition : 0,\n      navLinksBackForwardVisibility : \"hidden\"\n    }\n\n    this.doSearch = this.doSearch.bind(this);\n    this.returnKey = this.returnKey.bind(this);\n    this.isStrJSON = this.isStrJSON.bind(this);\n    this.showCriteria = this.showCriteria.bind(this);\n    this.inputCriteria = this.inputCriteria.bind(this);\n    this.showNavigation = this.showNavigation.bind(this);\n    this.pageNavigation = this.pageNavigation.bind(this);\n    this.getNavLinksPosition = this.getNavLinksPosition.bind(this);\n  }\n\n  aboutBox(event)\n  {\n    event.preventDefault();\n    window.alert(\"Image Searching application\\n\\n- built with ReactJS\\n- using the Unsplash API (www.unsplash.com)\\n\\nInitially released on 15 September 2020\\nupdated on 18 June 2021.\");\n  }\n\n  isStrJSON(str)\n  {\n    try {\n      JSON.parse(str);\n    }\n    catch (e)\n    {\n      return false;\n    }\n\n    return true;\n  }\n\n  // Display the Page buttons\n  showNavigation(totalPages)\n  {\n    let output = [];\n    let outputBoxWidth = 0;\n\n    for (let i = 1; i <= totalPages; ++i)\n    {\n      outputBoxWidth += 50;\n      const linkKey = `navLink_${i}`;\n      const navLinkClass = `nav${i === this.state.currentPage ? ' sel' : ''}`;\n\n      output.push(\n        <a className={navLinkClass} data-page-id={i} href=\":Navigate\" key={linkKey} onClick={this.doSearch}>{i}</a>\n      );\n    }\n\n    this.setState({\n      navLinksWidth : outputBoxWidth\n    }, () =>\n    {\n      this.setState({\n        navLinksBackForwardVisibility : \"visible\",\n        navigationLinks : output\n      });\n    });\n  }\n\n  getNavLinksPosition()\n  {\n    return Number(this.state.navLinksPosition);\n  }\n\n  pageNavigation(props)\n  {\n    props.preventDefault();\n\n    if (props.target.dataset.pageId)\n    {\n      switch(props.target.dataset.pageId)\n      {\n        case \"next\":\n          if (this.getNavLinksPosition() < (Number(this.state.navLinksWidth) - 600))\n          {\n            this.setState({\n              navLinksPosition : (this.getNavLinksPosition() + 50)\n            });\n          }\n        break;\n        case \"previous\":\n          if (this.getNavLinksPosition() > 0)\n          {\n            this.setState({\n              navLinksPosition : (this.getNavLinksPosition() - 50)\n            });\n          }\n        break;\n        default: break;\n      }\n    }\n  }\n\n  doSearch(props)\n  {\n    props.preventDefault();\n\n    if (this.state.searchCriteria.trim().length)\n    {\n      let goToPage = 1;\n      let searchType = \"\";\n\n      // Change the page of the current search\n      if (props && props.target.dataset.pageId)\n      {\n        goToPage = props.target.dataset.pageId;\n\n        searchType = <strong style={{fontSize: 36}}>Loading page {goToPage}...</strong>;\n\n        this.setState({\n          currentPage : Number(goToPage)\n        });\n      }\n      else {\n        // New search\n        this.setState({\n          currentPage : 1\n        });\n        searchType = <strong style={{fontSize: 36}}>Searching in progress, please wait...</strong>;\n      }\n\n      this.setState({\n        outputData : searchType\n      });\n\n      // FIX BELOW - REMOVE ALLOW CORS FROM PHP FILE\n      window.fetch(`https://projects.voyager89.net/en/image-search/call-api.php?query=${this.state.searchCriteria.trim()}&page=${goToPage}`)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          let errorFlag = 0;\n          let outputDataReceived = null;\n\n          if (typeof(result) == \"string\")\n          {\n            // Process data\n            if (result.indexOf(\"Attention!\") === 0)\n            {\n              errorFlag = 1;\n              outputDataReceived = <strong style={{fontSize: 36}}>{result}</strong>;\n            }\n            else if (result.indexOf(\"Rate Limit Exceeded\") === 0)\n            {\n              errorFlag = 1;\n              outputDataReceived = <strong style={{fontSize: 36}}>Sorry: Rate limit has been exceeded. Up to 50 searches per hour allowed.</strong>;\n            }\n          }\n          else if (typeof(result) == \"object\")\n          {\n            if (result.results && Array.isArray(result.results))\n            {\n              outputDataReceived = <Output data={result}/>;\n            }\n            else {\n              errorFlag = 1;\n              outputDataReceived = <strong style={{fontSize: 36}}>Error: Request could not be completed. Please try again later. If problem persists, please contact admin.</strong>;\t\t\t\t\t\t\t\t\t\t\n            }\n          }\n          else {\n            errorFlag = 1;\n            outputDataReceived = <strong style={{fontSize: 36}}>Error: Request could not be completed. Please try again later. If problem persists, please contact admin.</strong>;\n          }\n\n          if (!errorFlag)\n          {\n            //console.log(\"Sorting images!\");\n\n            this.showNavigation(Number(result.total_pages));\n          }\n\n          this.setState({\n            outputData : <div>{outputDataReceived}</div>,\n            totalPages : result.total_pages\n          }, () =>\n          {\n            window.Macy({\n              container: '.imageOutput',\n              trueOrder: false,\n              waitForImages: false,\n              margin: 24,\n              columns: 6,\n              breakAt: {\n                1200: 5,\n                940: 3,\n                520: 2,\n                400: 1\n              }\n            });\n          });\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          this.setState({\n            outputData : (\n              <strong style={{fontSize: 36}}>\n                Error: {error}.\n              </strong>\n            )\n          });\n        }\n      );\n    }\n  }\n\n  inputCriteria(evt)\n  {\n    // Sanitize input\n    let input = evt.target.value;\n    input = input.replace(/\\\\/g, \"\");\n    input = input.replace(/\\//g, \"\");\n    input = input.replace(/'/g, \"\");\n    input = input.replace(/\"/g, \"\");\n\n    this.setState({searchCriteria: input});\n  }\n\n  returnKey(event)\n  {\n    if (event.key === \"Enter\" && this.state.searchCriteria.trim().length)\n    {\n      this.doSearch(event);\n    }\n  }\n\n  showCriteria()\n  {\n    let output = \"\";\n    const criteria = this.state.searchCriteria;\n    output = criteria.trim().length ? criteria : \"\";\n\n    return (output.length > 10 ? output.substring(0, 10) + \"...\" : output);\n  }\n\n  magnifyingGlass()\n  {\n    return new DOMParser().parseFromString('&#X1F50D;', 'text/html').body.textContent;\n  }\n\n  render()\n  {\n    return (\n      <div className=\"App\">\n        <nav>\n          <a href=\":About\" onClick={this.aboutBox}>About</a>\n        </nav>\n        <main>\n          <h1>\n            Unsplash Image Search<br/>\n            &nbsp;{this.showCriteria()}&nbsp;\n          </h1>\n\n          <section className=\"search\">\n            <a href=\":Search\" onClick={this.doSearch}>{this.magnifyingGlass()}</a>\n            <input id=\"imageQuery\" onChange={this.inputCriteria} maxLength=\"20\" onKeyDown={this.returnKey} placeholder=\"Free hi-res photos\" title=\"Search here (press Enter)\" type=\"text\" defaultValue=\"\"/>\n          </section>\n          <section className=\"outputNavigation\">\n            <a className=\"nav pageNavigate\" data-page-id=\"previous\" href=\":Previous\" onClick={this.pageNavigation} style={{visibility: this.state.navLinksBackForwardVisibility}}>&lt;&lt;</a>\n            <div id=\"navLinksBox\">\n              <div style={{position: \"relative\", right: this.state.navLinksPosition, width: this.state.navLinksWidth}}>\n                {this.state.navigationLinks}\n              </div>\n            </div>\n            <a className=\"nav pageNavigate\" data-page-id=\"next\" href=\":Next\" onClick={this.pageNavigation} style={{visibility: this.state.navLinksBackForwardVisibility}}>&gt;&gt;</a>\n          </section>\n          <section className=\"output\">\n            {this.state.outputData}\n          </section>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}